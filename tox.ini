[tox]
envlist = py{312}, check, mypy, bandit # format

[testenv]; This is called py312 in envlist
description = Run pytest
commands = pytest

[testenv:prospector]
description = Run static analysis using prospector, dont fail on errors
ignore_outcome = true
commands = prospector --no-autodetect \
               --test-warnings \
               --die-on-tool-error \
               bris

[testenv:format]
description = Run ruff, a Python formatter like black
deps = ruff
commands = ruff format

[testenv:check]
description = Run ruff, a Python linter, dont fail on errors
ignore_outcome = true
deps = ruff
commands = ruff check

[testenv:mypy]
description = Check typing, dont fail on errors
ignore_outcome = true
deps = mypy
commands = mypy --ignore-missing-imports bris

[testenv:bandit]
description = Check for security issues, dont fail on errors
ignore_outcome = true
deps = bandit
commands = bandit -r bris
